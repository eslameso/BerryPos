@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer
@model Pos.ViewModels.RegisterMv
@{
    ViewData["Title"] = @Localizer["Register"];
    Layout=null;
}
<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />


<div class="register" style="height:auto;display: flex;background-image: url(../imgs/Background_Main_POS.jpg);background-size: cover;background-blend-mode: exclusion;background-color: #333;">
    <div class="container">
        <div class="row my-4 mx-5 px-5">
            <form class="col-12 border rounded shadow py-4 px-5 mx-5" method="post" style="font-size: 17px;color: #111; background-image: radial-gradient( circle farthest-corner at 10% 20%, rgb(255 255 255 / 58%) 0%, rgb(193 77 94 / 36%) 99.3% )">
                <div class="text-center mb-3 mt-1 font-weight-bold">
                    <h1 style="color: #fff;text-shadow: 3px 3px 1px #b35468;">@Localizer["WELCOME"]</h1>
                </div>
            
                <div class="form-group">
                    <label asp-for="UserName" class="control-label"></label>
                    <input asp-for="UserName"  class="form-control" id="UserName"/>
                    <span asp-validation-for="UserName" class="text-danger"></span>
                </div>
                <input asp-for="EmployeeName" type="hidden" class="form-control" id="EmployeeName"/>
                <div class="form-group">
                    <label asp-for="Email" class="control-label"></label>
                    <input asp-for="Email"  class="form-control" />
                    <span asp-validation-for="Email" class="text-danger"></span>
                </div>
                <div class="row">
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="Password" class="control-label"></label>
                        <input asp-for="Password"  class="form-control" />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="ConfirmPassword" class="control-label"></label>
                        <input asp-for="ConfirmPassword"  class="form-control" />
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="Address" class="control-label"></label>
                        <input asp-for="Address"  class="form-control" />
                        <span asp-validation-for="Address" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="MobileNumber" class="control-label"></label>
                        <input asp-for="MobileNumber" type="number"  class="form-control" />
                        <span asp-validation-for="MobileNumber" class="text-danger"></span>
                    </div>
                </div>
                 @* <div class="row">
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="BirthDate" class="control-label"></label>
                        <input asp-for="BirthDate" type="date" class="form-control" />
                        <span asp-validation-for="BirthDate" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6 col-12 datepicker">
                        <label asp-for="HireDate" class="control-label"></label>
                        <input asp-for="HireDate" type="date" class="form-control" />
                        <span asp-validation-for="HireDate" class="text-danger"></span>
                    </div>
                </div> *@
                
                <div class="row">
                    <div class="form-group col-md-6 col-12">
                   <label asp-for="BranchId" class="control-label"></label> 
                   <select asp-for="BranchId" asp-items='@(new SelectList (Model.Branches,"Id","Name"))' class="custom-select">
                         <option disable selected>Choose Branch</option>
                     </select>
                     <span asp-validation-for="BranchId" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6 col-12">
                       <label asp-for="JobtitleId" class="control-label"></label> 
                   <select asp-for="JobtitleId" asp-items='@(new SelectList (Model.JobTitles,"Id","Name"))' class="custom-select">
                         <option disable selected>Choose JobTitle</option>
                     </select>
                     <span asp-validation-for="JobtitleId" class="text-danger"></span>
                    </div>
                    </div>
                     


                <div class="row">
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="NationalNumber" class="control-label"></label>
                        <input asp-for="NationalNumber" type="number"  class="form-control" />
                        <span asp-validation-for="NationalNumber" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="Photo" class="control-label"></label>
                        <input asp-for="Photo" type="file" class="form-control-file" id="imgInp" />
                        <img id="userImg" src="#" alt="userImg" />
                        <span asp-validation-for="Photo" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label asp-for="Notes" class="control-label"></label>
                    <textarea asp-for="Notes" rows="4" class="form-control" ></textarea>
                    <span asp-validation-for="Notes" class="text-danger"></span>
                </div>
                 

                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group row col-12">
                    <input type="submit" value='@Localizer["Register"]' class="btn btn-primary" />
                    <input type="reset" value='@Localizer["Reset"]' class="btn btn-danger mx-2"/>
                    <a asp-action="Login" asp-controller="Account" class="col-12 mb-0 mt-3 p-0 text-dark font-weight-bold " style="text-decoration: none;">
                        <img width="15px" src="../imgs/right-arrow.png" />@Localizer["Login"]
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

<script>
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
            $('#userImg').attr('src', e.target.result);
            }   
            reader.readAsDataURL(input.files[0]); // convert to base64 string
        }}
        $("#imgInp").change(function() {
        readURL(this);
    });
debugger;
    $("#UserName").focusout(function () {
    var data=$(this).val();
        $('#UserName').val(function (i, value) {
     $('#EmployeeName').val(data);
    return value.replace(/ /g, '');
     });
      });

</script>


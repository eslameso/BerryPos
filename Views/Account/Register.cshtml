@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer
@model Pos.ViewModels.RegisterMv
@{
    ViewData["Title"] = @Localizer["Register"];
    Layout=null;
}
<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="~/css/select2.min.css" />


<div class="register" style="height:auto;display: flex;background-image: url(../imgs/Background_Main_POS.jpg);background-size: cover;background-blend-mode: exclusion;background-color: #333;">
    <div class="container">
        <div class="row my-4 mx-5 px-5">
            <form class="col-12 border rounded shadow py-4 px-5 mx-5" asp-action="Register" asp-controller="Account" method="post" style="font-size: 17px;color: #111; background-image: radial-gradient( circle farthest-corner at 10% 20%, rgb(255 255 255 / 58%) 0%, rgb(193 77 94 / 36%) 99.3% )" enctype="multipart/form-data">
                <div class="text-center mb-3 mt-1 font-weight-bold">
                    <h1 style="color: #fff;text-shadow: 3px 3px 1px #b35468;">@Localizer["WELCOME"]</h1>
                </div>
               <div asp-validation-summary="ModelOnly" class="text-danger"></div>

               <div class="row">
                    <div class="form-group col-12">
                        <label asp-for="Photo" class="control-label"></label>
                        <div class="imgSec col-12 row">
                            <img class="col-md-2 col-4" id="userImg" src="/imgs/user.png" alt="" width="50px" height="50px"  style="border: 1px solid #9e9e9e;padding: 5px;background-color: #ffffff8a;margin-bottom: 5px;"/> 
                            <input class="col-md-10 col-8" asp-for="Photo" type="file" class="form-control-file" id="imgInp" />
                        </div>
                        <span asp-validation-for="Photo" class="text-danger"></span>
                    </div>
               </div>
               <div class="row">
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="UserName" class="control-label"></label>
                        <input asp-for="UserName"  class="form-control" id="UserName"/>
                        <span asp-validation-for="UserName" class="text-danger"></span>
                    </div>
                    @* <input asp-for="EmployeeName" type="hidden" class="form-control" id="EmployeeName"/> *@
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="Email" class="control-label"></label>
                        <input asp-for="Email"  class="form-control" />
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </div>
               </div>
                <div class="row">
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="Password" class="control-label"></label>
                        <input asp-for="Password"  class="form-control" />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="ConfirmPassword" class="control-label"></label>
                        <input asp-for="ConfirmPassword"  class="form-control" />
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="Address" class="control-label"></label>
                        <input asp-for="Address"  class="form-control" />
                        <span asp-validation-for="Address" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="MobileNumber" class="control-label"></label>
                        <input asp-for="MobileNumber" type="text"  class="form-control" />
                        <span asp-validation-for="MobileNumber" class="text-danger"></span>
                    </div>
                </div>
                  <div class="row">
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="BirthDate" class="control-label"></label>
                        <input asp-for="BirthDate" type="date" value="@DateTime.Now"   class="form-control" />
                        <span asp-validation-for="BirthDate" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6 col-12 datepicker">
                        <label asp-for="HireDate" class="control-label"></label>
                        <input asp-for="HireDate"  type="date" value="@DateTime.Now" class="form-control" />
                        <span asp-validation-for="HireDate" class="text-danger"></span>
                    </div>
                </div> 
                
                <div class="row">
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="BranchId" class="control-label"></label> 
                        <select asp-for="BranchId" asp-items='@(new SelectList (@Model.Branches,"Id","Name"))' class="form-control col-form-label-lg">
                            <option></option>
                        </select>
                        <span asp-validation-for="@Model.BranchId" class="text-danger"></span>
                    </div>
                    <div class="form-group col-md-6 col-12">
                       <label asp-for="JobtitleId" class="control-label"></label> 
                        <select asp-for="JobtitleId" asp-items='@(new SelectList (@Model.JobTitles,"Id","Name"))' class="form-control col-form-label-lg">
                            <option></option>
                        </select>
                        <span asp-validation-for="JobtitleId" class="text-danger"></span>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group col-md-6 col-12">
                        <label asp-for="NationalNumber" class="control-label"></label>
                        <input asp-for="NationalNumber" type="text"  class="form-control" />
                        <span asp-validation-for="NationalNumber" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label asp-for="Notes" class="control-label"></label>
                    <textarea asp-for="Notes" rows="4" class="form-control" ></textarea>
                    <span asp-validation-for="Notes" class="text-danger"></span>
                </div>
                
                <div class="form-group row col-12">
                    <input type="submit" value='@Localizer["Register"]' class="btn btn-primary" />
                    <input type="reset" value='@Localizer["Reset"]' class="btn btn-danger mx-2"/>
                    <a asp-action="Login" asp-controller="Account" class="col-12 mb-0 mt-3 p-0 text-dark font-weight-bold " style="text-decoration: none;">
                        <img width="15px" src="../imgs/right-arrow.png" />  @Localizer["Login"]
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
<script src="~/js/select2.min.js"></script>

<script>
    $(document).ready(function() {
    $('Select').select2({
     selectOnClose: true
     });
});
    function readURL(input) {
       if (input.files && input.files[0]) {
         var reader = new FileReader();
         reader.onload = function(e) {
        $('#userImg').attr('src', e.target.result);
        }   
        reader.readAsDataURL(input.files[0]); // convert to base64 string
      }}
      $("#imgInp").change(function() {
       readURL(this);
   }); 

    $("#UserName").focusout(function () {
    var data=$(this).val();
        $('#UserName').val(function (i, value) {
     $('#EmployeeName').val(data);
    return value.replace(/ /g, '');
     });
      });




</script>

